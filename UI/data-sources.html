<html>
    <head>
        <title>ParlyHack (Team: Whip)</title>
        
        <!-- Bootstrap CSS -->
        <link href="css/bootstrap.min.css" rel="stylesheet" />
        <link href="css/bootstrap-responsive.min.css" rel="stylesheet" />
        
        <!-- Bootstrap JS --> 
        <script src="js/jquery-latest.js"></script>
        <script src="js/jquery.center.js"></script>
        <script src="js/bootstrap.min.js"></script>
        
        <!-- D3 -->
        <script src="http://d3js.org/d3.v2.js"></script>
        <script src="js/d3.layout.cloud.js"></script>
        
        <!-- project js and css -->
        <script src="js/parly.js"></script>
        <link href="css/parly.css" rel="stylesheet" />
        <script src="js/csv-reader.js"></script>
        
        <script>
            
            $(function() {
               spinner(true);
               setTimeout(function() { spinner(false); }, 3000);
                
                $('#cancelretrieve').click(function() {
                    window.location = 'search.html';
                });
            });

            $(function() {
                try {
                    retrieveCSV('champion.html', dataReady);
                    //qqLGW this doesn't work
                } catch (e) { alert(e); }
            });

            function dataReady(table) {
                try {
                    alert(table.length + ' rows');
                    for (row = 0; row < table.length; row++) {
                        
                    }
                } catch (e) { alert(e); }
            }

            // d3 cloud
            var fill = d3.scale.category20();
            
            function goCloud(words, sizeMappingFunction) {
                d3.layout.cloud().size([300, 300])
                    .words(["Hello", "world", "normally", "you", "want", "more", "words", "than", "this"].map(function(d) {
                      return {text: d, size: 10 + Math.random() * 90};
                    }))
                    .rotate(function() { return ~~(Math.random() * 2) * 90; })
                    .font("Impact")
                    .fontSize(function(d) { return d.size; })
                    .on("end", draw)
                    .start();
            }
            
            function draw(words) {
              d3.select("#cloud").append("svg")
                  .attr("width", 300)
                  .attr("height", 300)
                .append("g")
                  .attr("transform", "translate(150,150)")
                .selectAll("text")
                  .data(words)
                .enter().append("text")
                  .style("font-size", function(d) { return d.size + "px"; })
                  .style("font-family", "Impact")
                  .style("fill", function(d, i) { return fill(i); })
                  .attr("text-anchor", "middle")
                  .attr("transform", function(d) {
                    return "translate(" + [d.x, d.y] + ")rotate(" + d.rotate + ")";
                  })
                  .text(function(d) { return d.text; });
            }
            
        </script>
    </head>
    <body>
        
        <div class="navbar">
          <div class="navbar-inner">
            <a class="brand" href="champion.html">Champion</a>
            <ul class="nav">
              <li><a href="search.html">Search</a></li>
              <li><a href="team.html">Team</a></li>
              <li class="active"><a href="data-sources.html">Sources</a></li>
            </ul>
          </div>
        </div>  

        <ul class="breadcrumb">
            <li><a href="champion.html">Champion</a> <span class="divider">/</span></li>
            <li class="active"><a href="search.html">Data sources</a></li>
        </ul>

        <div class="row-fluid">

            <div class="span4 padded">
                <div class="well">
                    <h4>Project source</h4>
                    <p>
                        The source for this project is available from GitHub:
                    </p>
                    <p>
                        <code>git clone https://github.com/puntofisso/RS-ParlyHack.git</code>
                    </p>
                </div>
            </div>

            <div class="span4 padded">
                <div class="well">
                    <h4>Debate data</h4>
                    <p>
                        The data source for speakers and their debate contributions
                        comes from a regular compliation of Hansard data, available as an
                        <a href="http://ukparse.kforge.net/parldata/scrapedxml/debates/">XML feed</a>
                        and provided by <a href="https://twitter.com/adamamyl">Adam McGreggor</a>.
                    </p>
                </div>
            </div>

            <div class="span4 padded">
                <div class="well">
                    <h4>Charities data</h4>
                    <p>
                        The <a href="http://OpenCharities.org/charities.csv.zip">Charity Data</a>
                        used for recommendations is taken from
                        <a href="http://opencharities.org/">Open Charities</a>.
                    </p>
                </div>
            </div>

        </div><!-- /row -->
        <div class="row-fluid">
            
            <div class="span12 padded">
                <div class="well">
                    <h4>MPs bluster</h4>
                    <p>
                        Our first analysis featured a quick examination of just who's been talking
                        and how much (by word count). Our data is available as CSV
                        <a href="aux-data/bluster.csv">here</a>.
                    </p>
                </div>

                <div id="cloud"></div>
                
            </div>
            
            
        </div>
 
    </body>
</html>